<section class="image-text-tile-container-{{ section.id }}">
    {% if section.settings.selected-layout == "image-first" %}
        <div class="image-text-tile-image-container-{{ section.id }}">
            <img class="image-text-tile-image-{{ section.id }}" src="{{ section.settings.image | img_url: 'master' }}">
        </div>
        <div class="image-text-tile-text-container-{{ section.id }}">
            {{ section.settings.text }}
            <a class="text-tile-btn-{{ section.id }}" href="{{ section.settings.button-url | url_encode }}">
                {{ section.settings.button-label }}
            </a>
        </div>
    {% else %}
        <div class="image-text-tile-text-container-{{ section.id }}">
            {{ section.settings.text }}
            <a class="text-tile-btn-{{ section.id }}" href="{{ section.settings.button-url | url_encode }}">
                {{ section.settings.button-label }}
            </a>
        </div>
        <div class="image-text-tile-image-container-{{ section.id }}">
            <img class="image-text-tile-image-{{ section.id }}" src="{{ section.settings.image | img_url: 'master' }}">
        </div>
    {% endif %}
</section>

<style>
:root {
    --image-text-tile-image-width: {{ section.settings.image-width }}%;
}

.image-text-tile-container-{{ section.id }} {
    display: flex;
    justify-content: normal;
    align-items: stretch;
    padding: 0 {{ section.settings.padding }}%;
}

.image-text-tile-image-container-{{ section.id }} {
    background-color: {{ section.settings.bg-color }};
    width: var(--image-text-tile-image-width);
    max-height: 704px;
    display: flex;
    justify-content: center;
}

.image-text-tile-text-container-{{ section.id }} {
    background-color: {{ section.settings.bg-color }};
    max-width: calc(100% - var(--image-text-tile-image-width));
    max-height: 704px;
    overflow: hidden;
    padding: {{ section.settings.text-padding }}px;
    font-size:{{ section.settings.text-font-size }}px;
    line-height: {{ section.settings.text-line-height }};
    letter-spacing: {{ section.settings.text-letter-spacing }};
    color: {{ section.settings.text-font-color }};
}

.image-text-tile-image-{{ section.id }} {
    width: 100%;
    height: inherit;
}

.text-tile-btn-{{ section.id }} {
    background-color: {{ section.settings.button-background-color }};
    color: {{ section.settings.button-text-color }};
    border: none;
    border-radius: 30px;
    padding: 0.7em 2em;
    text-decoration: none;
    font-weight: bold;
    margin-left: 0.5em;
    font-size:{{ section.settings.text-font-size }}px;
}

{% if section.settings.show-button == false %}
    .text-tile-btn-{{ section.id }} {
        display: none;
    }
{% endif %}

</style>    

{% schema %}
{
    "name": "image-text-tile",
    "settings": [
        {
            "type": "range",
            "id": "padding",
            "label": "Section Padding",
            "min": 0,
            "max": 20,
            "unit": "%",
            "default": 0,
            "step": 1
        },
        {
            "type": "select",
            "id": "selected-layout",
            "label": "Select Layout",
            "default": "image-first",
            "options": [
                {
                    "value": "image-first",
                    "label": "Image First Layout"
                },
                {
                    "value": "text-first",
                    "label": "Text First Layout"
                }
            ]
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Select Image"
        },
        {
            "type": "range",
            "id": "image-width",
            "label": "Image Width",
            "min": 40,
            "max": 70,
            "unit": "%",
            "default": 50,
            "step": 5
        },
        {
            "type": "richtext",
            "id": "text",
            "label": "Add Text"
        },
        {
            "type": "color",
            "id": "bg-color",
            "label": "Choose text background color",
            "default": "#FFFFFF"
        },
        {
            "type": "range",
            "id": "text-padding",
            "min": 0,
            "max": 50,
            "step": 1,
            "unit": "px",
            "default": 0,
            "label": "Text Padding" 
        },
        {
            "type": "range",
            "id": "text-font-size",
            "min": 6,
            "max": 32,
            "step": 1,
            "unit": "px",
            "default": 14,
            "label": "Font Size"
        },
        {
            "type": "range",
            "id": "text-line-height",
            "min": 1,
            "max": 4,
            "step": 0.1,
            "unit": "num",
            "default": 1.5,
            "label": "Line Height"
        },
        {
            "type": "range",
            "id": "text-letter-spacing",
            "min": 0,
            "max": 5,
            "step": 0.50,
            "unit": "px",
            "default": 0.50,
            "label": "Letter Spacing"
        },
        {
            "type": "color",
            "id": "text-font-color",
            "label": "Font Color",
            "default": "#000000"
        },
        {
            "type": "checkbox",
            "id": "show-button",
            "label": "Show Button",
            "default": false
        },
        {
            "type": "text",
            "id": "button-label",
            "label": "Button Label",
            "default": "Shop The Look"
        },
        {
            "type": "url",
            "id": "button-url",
            "label": "Button URL"
        },
        {
            "type": "color",
            "id": "button-text-color",
            "label": "Button Text Color",
            "default": "#FFFFFF"
        },
        {
            "type": "color",
            "id": "button-background-color",
            "label": "Button Background Color",
            "default": "#000000"
        }
    ],
    "presets": [
        {
            "name": "Image Text Tile"
        }
    ]
}
{% endschema %}
